---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { baseUrl } from '../utils/share'

const articles = await getCollection('articles');
---

<h1 class="text-2xl font-bold mb-6">Articles</h1>

<ul class="space-y-6">
{articles
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
  .map(({ slug, data }) => (
  <li>
    <a href={`${baseUrl}articles/${slug}`} class="block hover:underline">
    <h2 class="text-xl font-semibold">{data.title}</h2>
    <p class="text-sm text-gray-500">{new Date(data.date).toLocaleDateString("ja-JP")}</p>
    <p class="text-gray-700 mt-1">{data.summary}</p>
    </a>
  </li>
  ))}
</ul>

